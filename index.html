<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Cloud9-Client</title>
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="css/index.css">
		<style>
			body {
				height:100%;
				background-color:#333;
				color: #FFF;
				text-shadow: 0 1px 3px rgba(0,0,0,.5);
			}
		</style>
	</head>
	<body>
		<div class="container" style="height:auto; font-size:15px;">
			<h1 class="text-primary">Cloud9-Client</h1>
			<section id="zero"></section><br><br>
			<section id="first"></section>
			<section id="second"></section>
			<section id="third"></section>
			<section id="fourth"></section>
		</div>
		<script>
		window.jQuery = window.$ = require('./js/jquery.min');
		</script>
		<!--<script src="js/jquery.min.js"></script>-->
		<script src="js/bootstrap.min.js"></script>
		<script src="js/typed.min.js"></script>
		<script type="text/javascript">
			const ipc = require('electron').ipcRenderer
		  $(function(){
	  		function show_typed_message($element, msgs, speed, callback) {
	  			$($element).typed({
	  				strings: msgs,
	  				typeSpeed: speed,
	  				showCursor: false,
	  				callback: callback
	  			});
	  		}
	  		ipc.send('initialize');
	  		ipc.on('initialize-done', function(event, arg) {
	  			show_typed_message($("#zero"), [`<strong>Your config file : ${arg.config_path} <br> available port number : ${arg.port_number}</strong>`]);
		      show_typed_message($("#first"), [`Choose the cloud9 directory ...`], 10, 
		      	() => { 
		      		ipc.send('choose-cloud9-directory'); 
		      	}
		      );
	  		});
				ipc.on('choose-cloud9-directory-done', function(event, arg) {
					show_typed_message($("#second"), [`cloud9 directory : ${arg.directory}`], 0, () => {
						show_typed_message($("#third"), [`Choose project directory ... `], 20, () => {
							ipc.send('choose-project-directory');
						})
					});
				});
				ipc.on('choose-project-directory-done', function(event, arg) {
					show_typed_message($("#fourth"), [`${arg.directory} <br> ${arg.url} <br> ^1000 open now`], 0, () => {
						ipc.send('typed-done');
					});
				});
		  });
		</script>
	</body>
</html>
